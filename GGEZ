local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))() -- โหลด Rayfield
local Window = Rayfield:CreateWindow({
   Name = "KUYHEETAD",
   LoadingTitle = "KUYHEETAD",
   LoadingSubtitle = "by Sirius",
   Theme = "Default",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil,
      FileName = "HEE Hub"
   },
   KeySystem = false
})

local Tab = Window:CreateTab("Main", 4483362458) -- สร้างแท็บหลัก

local Section = Tab:CreateSection("Menu Options")

-- ปรับปรุงฟังก์ชัน ESP
local function EnableESP()
    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    
    local function createESP(character)
        if character and not character:FindFirstChild("ESPBox") then
            local highlight = Instance.new("Highlight")
            highlight.Name = "ESPBox"
            highlight.Parent = character
            highlight.FillColor = Color3.fromRGB(255, 0, 0) -- สีแดง
            highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
            highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
        end
    end
    
    local function updateESP()
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                local character = player.Character
                if character then
                    createESP(character)
                end
            end
        end
    end
    
    updateESP()
    
    Players.PlayerAdded:Connect(function(player)
        player.CharacterAdded:Connect(function(character)
            createESP(character)
        end)
    end)
end

-- ปุ่มเปิด ESP
Tab:CreatedButton({
   Name = "Enable ESP",
   Callback = EnableESP
})

-- ฟังก์ชัน Fly Hack
local flying = false
local bodyVelocity
local function ToggleFly()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
    
    if humanoidRootPart then
        if not flying then
            flying = true
            bodyVelocity = Instance.new("BodyVelocity", humanoidRootPart)
            bodyVelocity.Velocity = Vector3.new(0, 50, 0) -- บินขึ้นไป
            bodyVelocity.MaxForce = Vector3.new(4000, 4000, 4000)
        else
            flying = false
            if bodyVelocity then
                bodyVelocity:Destroy()
                bodyVelocity = nil
            end
        end
    end
end

-- ปุ่มเปิด Fly Hack
Tab:AddButton({
   Name = "Fly Hack",
   Callback = ToggleFly
})

-- ฟังก์ชัน Speed Hack
local speedEnabled = false
local function ToggleSpeed()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    
    if humanoid then
        if not speedEnabled then
            speedEnabled = true
            humanoid.WalkSpeed = 100 -- ปรับความเร็วเดิน
        else
            speedEnabled = false
            humanoid.WalkSpeed = 16 -- กลับสู่ค่าปกติ
        end
    end
end

-- ปุ่มเปิด Speed Hack
Tab:AddButton({
   Name = "Speed Hack",
   Callback = ToggleSpeed
})

-- ฟังก์ชัน Jump Hack
local jumpEnabled = false
local function ToggleJump()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    
    if humanoid then
        if not jumpEnabled then
            jumpEnabled = true
            humanoid.JumpPower = 150 -- เพิ่มความสามารถในการกระโดด
        else
            jumpEnabled = false
            humanoid.JumpPower = 50 -- กลับสู่ค่าปกติ
        end
    end
end

-- ปุ่มเปิด Jump Hack
Tab:AddButton({
   Name = "Jump Hack",
   Callback = ToggleJump
})

-- ฟังก์ชัน NoClip (เดินทะลุ)
local noclipEnabled = false
local function ToggleNoClip()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    
    if character then
        for _, part in ipairs(character:GetChildren()) do
            if part:IsA("BasePart") then
                part.CanCollide = not noclipEnabled
            end
        end
        noclipEnabled = not noclipEnabled
    end
end

-- ปุ่มเปิด NoClip
Tab:AddButton({
   Name = "NoClip",
   Callback = ToggleNoClip
})

-- ปุ่มตัวเลือกอื่น ๆ
Tab:AddButton({
   Name = "Option 2",
   Callback = function()
       print("Option 2 selected")
   end
})

-- สวิตช์เปิด/ปิดฟีเจอร์
Tab:AddToggle({
   Name = "Enable Feature",
   Default = false,
   Callback = function(state)
       print(state and "Feature Enabled" or "Feature Disabled")
   end
})

-- สไลเดอร์ปรับค่า
Tab:AddSlider({
   Name = "Set Value",
   Min = 1,
   Max = 100,
   Default = 50,
   Callback = function(value)
       print("Slider Value: " .. value)
   end
})
